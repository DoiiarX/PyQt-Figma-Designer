# PyQt Figma Designer

## Introduction

This is a simple tool to convert Figma files into PyQt6 code. It is based on
the [Figma API](https://www.figma.com/developers/api).

## Installation

1. Clone the repository

```bash
git clone https://github.com/rombirli/PyQT-figma-Designer.git
cd PyQT-figma-Designer
```

2. Install the requirements

```bash
pip install -r requirements.txt
```

3. Create a new Figma personal access token as described [here](https://www.figma.com/developers/api#access-tokens).

## Usage

### GUI

1. Launch the GUI:

```bash
python pyqtfd-gui.py
```

2. In the download tab, paste your token, the URL to the Figma file and the output directory path into the GUI.
3. Click on "Create project" and wait for the figma file to be downloaded.
4. Go to the Compile tab and click on "Compile project".
5. The generated code will be in the output directory. You can run it by running

````bash
python gui.py
````

### Generated files

#### Gui

A file `gui.py` is generated in the output directory.
It contains the main function that launches the GUI.

DO NOT EDIT this file, as it will be overwritten when you recompile the Figma file.

#### GuiHandler

A file `gui_handler.py` is generated in the output directory.  
It contains a class hierarchy that mirrors the hierarchy of the Figma file.
The functions in the GuiHandler classes are called when the corresponding widget is interacted with.

You can edit to add your own code, but be careful to not overwrite it when you recompile the Figma file.

#### GuiController

A file `gui_controller.py` is generated in the output directory.
It contains a class hierarchy that mirrors the hierarchy of the Figma file.
The functions in the GuiController classes must be called by your code to update the GUI.

DO NOT EDIT this file, as it will be overwritten when you recompile the Figma file.

## Components

Many components are currently supported, but to use them you must respect the following rules, otherwise
you can use
this [component pack](https://www.figma.com/file/AZD7bWnCwce9uAuTqa6aY5/Untitled?type=design&node-id=0%3A1&mode=design&t=0jee9KtQMinbOkMd-1).

### Window

Just create a frame directly in the Figma file. The frame will be converted into a window.

### Naming

The name of the component has to start with a prefix that indicates the type of the component.
The name of the components is case insensitive, it ignores spaces, dashes and underscores (`  , -, _`).

| Component type    | Prefix          |
|-------------------|-----------------|
| Button            | button          |
| Custom Button     | custombutton    |
| Text Field        | textfield       |
| Custom Text Field | customtextfield |
| Checkbox          | checkbox        |
| Tabs view         | tabsview        |
| Slider            | slider          |
| Progress Bar      | progressbar     |

### Hierarchy and Ordering

Some components have to be placed in a specific hierarchy to work properly.

#### Button & Text Field

No specific hierarchy is required for these components. Only name them correctly.

#### Custom Button

The custom button group must be ordered like this:

| Child index  | Child function |
|--------------|----------------|
| -1 (Topmost) | MouseOver      |
| -2           | Pressed        |
| -3           | Disabled       |
| -4           | Normal         |
| ...          | Background...  |

#### Custom Text Field

The custom text field group must be ordered like this:

| Child index  | Child function   |
|--------------|------------------|
| -1 (Topmost) | Text (for style) |
| -2           | Hint             |
| ...          | Background...    |

#### Checkbox

The checkbox group must be ordered like this:

| Child index  | Child function |
|--------------|----------------|
| -1 (Topmost) | Checked        |
| ...          | Background...  |

#### Tabs view

The tabs view group must be ordered like this:

| Child index  | Child function |
|--------------|----------------|
| -1 (Topmost) | Tabs bar       |
| -2           | Tabs content   |
| ...          | Background...  |

Tabs bar must have the same number of children as tabs content, in the same order. Tabs bar contains the buttons that
switch between the
tabs (selected version). Tabs content contains the content of the tabs.

#### Slider

The slider group must be ordered like this:

| Child index  | Child function |
|--------------|----------------|
| -1 (Topmost) | Slider handle  |
| ...          | Background...  |

#### Progress Bar

The progress bar group must be ordered like this:

| Child index  | Child function |
|--------------|----------------|
| -1 (Topmost) | Fill           |
| ...          | Background...  |
